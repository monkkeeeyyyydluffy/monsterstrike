<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Damage Calculator Tool</title>
    <script>
      // inline to prevent state flashing
      if (
        localStorage.theme === 'dark' ||
        (!('theme' in localStorage) &&
          window.matchMedia('(prefers-color-scheme: dark)').matches)
      ) {
        document.documentElement.classList.add('dark')
      } else {
        document.documentElement.classList.remove('dark')
      }
    </script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: 'class',
      }
    </script>
    <script src="../../assets/js/themeToggle.js"></script>
  </head>
  <body
    class="bg-gray-100 p-6 font-sans text-gray-800 transition-colors duration-300 dark:bg-gray-900 dark:text-gray-100"
  >
    <button
      id="themeToggle"
      class="fixed top-4 right-4 z-50 rounded-full bg-gray-200 p-3 text-gray-800 shadow-lg transition-colors duration-300 hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-100 dark:hover:bg-gray-600"
      aria-label="Toggle Dark Mode"
    >
      <!-- Sun Icon -->
      <svg
        id="iconLight"
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="1.5"
        stroke="currentColor"
        class="h-6 w-6"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M12 3v1.5m0 15V21m9-9h-1.5M4.5 12H3m16.95-6.95l-1.061 1.061M6.111 17.889l-1.061 1.061m13.9 0l-1.061-1.061M6.111 6.111 5.05 5.05M12 8.25a3.75 3.75 0 100 7.5 3.75 3.75 0 000-7.5z"
        />
      </svg>

      <!-- Moon Icon -->
      <svg
        id="iconDark"
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="1.5"
        stroke="currentColor"
        class="hidden h-6 w-6"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M21.752 15.002A9.718 9.718 0 0112.75 21C7.477 21 3.25 16.523 3.25 11.25c0-3.089 1.5-5.843 3.977-7.5a.75.75 0 01.987.987 7.5 7.5 0 0010.289 10.29.75.75 0 01.986.975z"
        />
      </svg>
    </button>

    <!-- Go Back Button -->
    <a
      href="../../../index.html"
      class="fixed top-4 right-16 z-50 mr-1 rounded-full bg-gray-200 p-3 text-gray-800 shadow-lg transition-colors duration-300 hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-100 dark:hover:bg-gray-600"
      aria-label="Go Back Home"
    >
      <!-- Left Arrow Icon -->
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="1.5"
        stroke="currentColor"
        class="h-6 w-6"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M15.75 19.5L8.25 12l7.5-7.5"
        />
      </svg>
    </a>
    <div
      class="mx-auto max-w-3xl rounded-md bg-white p-6 shadow-md dark:bg-gray-800"
    >
      <h2 class="mb-4 text-2xl font-semibold text-gray-800 dark:text-gray-100">
        Damage Calculator Tool
      </h2>

      <form id="inputForm" class="space-y-8">
        <section class="space-y-4">
          <h3 class="text-lg font-semibold text-gray-700 dark:text-gray-300">
            Section: Unit Stats
          </h3>
          <div class="grid grid-cols-1 gap-4 md:grid-cols-2">
            <label
              for="attackStat"
              class="mb-2 block text-sm font-bold text-gray-700 dark:text-gray-300"
              >Attack Stat</label
            >
            <div>
              <input
                type="text"
                id="attackStat"
                class="form-input w-24 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm dark:text-gray-700"
                value="40000"
              />
            </div>
          </div>

          <div class="grid grid-cols-1 gap-4 md:grid-cols-3">
            <label
              for="Berries"
              class="mb-2 block text-sm font-bold text-gray-700 dark:text-gray-300"
              >Berries</label
            >
            <div>
              <select
                id="Berries"
                name="Berries"
                class="form-select block w-full rounded-md border-gray-300 bg-white text-gray-800 focus:border-blue-500 focus:ring-blue-500 sm:text-sm dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100"
              >
                <option value="None">No berries</option>
                <option value="14000" selected>+14,000</option>
                <option value="15400">+15,400</option>
              </select>
            </div>
          </div>

          <div class="grid grid-cols-1"></div>

          <div class="grid grid-cols-1 gap-4 md:grid-cols-4">
            <label
              for="monspot"
              class="mb-2 block text-sm font-bold text-gray-700 dark:text-gray-300"
              >Monspot:
            </label>
            <div>
              <input
                type="radio"
                id="monSpot1"
                name="monSpot"
                value="2000"
                class="form-radio h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"
                checked
              />
              <label
                for="monSpot1"
                class="ml-2 text-gray-700 dark:text-gray-300"
                >+2000 spot+</label
              >
            </div>
            <div>
              <input
                type="radio"
                id="monSpot2"
                name="monSpot"
                value="1500"
                class="form-radio h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"
              />
              <label
                for="monSpot2"
                class="ml-2 text-gray-700 dark:text-gray-300"
                >+1500 spot</label
              >
            </div>
            <div>
              <input
                type="radio"
                id="monSpot3"
                name="monSpot"
                value="1"
                class="form-radio h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"
              />
              <label
                for="monSpot3"
                class="ml-2 text-gray-700 dark:text-gray-300"
                >no spot</label
              >
            </div>
          </div>

          <hr class="my-4 border-t border-gray-300" />
        </section>

        <section class="space-y-4">
          <h3 class="text-lg font-semibold text-gray-700 dark:text-gray-300">
            Section: Unit Abilities
          </h3>
          <div class="grid grid-cols-1 gap-4 md:grid-cols-3">
            <label
              for="Slayer1"
              class="mb-2 block text-sm font-bold text-gray-700 dark:text-gray-300"
              >Slayer 1</label
            >
            <div>
              <select
                id="Slayer1"
                name="Slayer1"
                class="form-select block w-full rounded-md border-gray-300 bg-white text-gray-800 focus:border-blue-500 focus:ring-blue-500 sm:text-sm dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100"
              >
                <option value="None" selected>No Slayer</option>
                <option value="1.5">Slayer (1.5)</option>
                <option value="2">Slayer M (2)</option>
                <option value="2.5">Slayer L (2.5)</option>
                <option value="3">Slayer EL (3)</option>
                <option value="1.25">Slayer S (1.25)</option>
              </select>
            </div>
          </div>
          <div class="grid grid-cols-1 gap-4 md:grid-cols-3">
            <label
              for="Slayer2"
              class="mb-2 block text-sm font-bold text-gray-700 dark:text-gray-300"
              >Slayer 2</label
            >
            <div>
              <select
                id="Slayer2"
                name="Slayer2"
                class="form-select block w-full rounded-md border-gray-300 bg-white text-gray-800 focus:border-blue-500 focus:ring-blue-500 sm:text-sm dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100"
              >
                <option value="None" selected>No Slayer</option>
                <option value="1.5">Slayer (1.5)</option>
                <option value="2">Slayer M (2)</option>
                <option value="2.5">Slayer L (2.5)</option>
                <option value="3">Slayer EL (3)</option>
                <option value="1.25">Slayer S (1.25)</option>
              </select>
            </div>
          </div>

          <div class="grid grid-cols-1 gap-4 md:grid-cols-3">
            <label
              for="Slayer3"
              class="mb-2 block text-sm font-bold text-gray-700 dark:text-gray-300"
              >Slayer 3</label
            >
            <div>
              <select
                id="Slayer3"
                name="Slayer3"
                class="form-select block w-full rounded-md border-gray-300 bg-white text-gray-800 focus:border-blue-500 focus:ring-blue-500 sm:text-sm dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100"
              >
                <option value="None" selected>No Slayer</option>
                <option value="1.5">Slayer (1.5)</option>
                <option value="2">Slayer M (2)</option>
                <option value="2.5">Slayer L (2.5)</option>
                <option value="3">Slayer EL (3)</option>
                <option value="1.25">Slayer S (1.25)</option>
              </select>
            </div>
          </div>

          <div class="grid grid-cols-1 gap-4 md:grid-cols-3">
            <label
              for="SuperBalance"
              class="mb-2 block text-sm font-bold text-gray-700 dark:text-gray-300"
              >Super Balance</label
            >
            <div>
              <select
                id="SuperBalance"
                name="SuperBalance"
                class="form-select block w-full rounded-md border-gray-300 bg-white text-gray-800 focus:border-blue-500 focus:ring-blue-500 sm:text-sm dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100"
              >
                <option value="None" selected>No Super Balance</option>
                <option value="1.2">Super Balance (1.2)</option>
                <option value="1.5">Super Balance (1.5)</option>
              </select>
            </div>
          </div>

          <div class="grid grid-cols-1 gap-4 md:grid-cols-3">
            <label
              for="SuperWarp"
              class="mb-2 block text-sm font-bold text-gray-700 dark:text-gray-300"
              >Super Warp</label
            >
            <div>
              <select
                id="SuperWarp"
                name="SuperWarp"
                class="form-select block w-full rounded-md border-gray-300 bg-white text-gray-800 focus:border-blue-500 focus:ring-blue-500 sm:text-sm dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100"
              >
                <option value="None" selected>No Super Warp</option>
                <option value="1.05">Super Warp 1 (1.05)</option>
                <option value="1.1">Super Warp 2 (1.1)</option>
                <option value="1.15">Super Warp 3 (1.15)</option>
                <option value="1.2">Super Warp 4 (1.20)</option>
                <option value="1.25">Super Warp 5 (1.25)</option>
                <option value="1.3">Super Warp 6 (1.30)</option>
                <option value="1.35">Super Warp 7 (1.35)</option>
                <option value="1.4">Super Warp 8 (1.40)</option>
                <option value="1.45">Super Warp 9 (1.45)</option>
                <option value="1.5">Super Warp 10 (1.50)</option>
                <option value="1.55">Super Warp 11 (1.55)</option>
              </select>
            </div>
          </div>

          <div class="grid grid-cols-1 gap-4 md:grid-cols-3">
            <label
              for="buffSS"
              class="mb-2 block text-sm font-bold text-gray-700 dark:text-gray-300"
              >buffSS</label
            >
            <div>
              <select
                id="buffSS"
                name="buffSS"
                class="form-select block w-full rounded-md border-gray-300 bg-white text-gray-800 focus:border-blue-500 focus:ring-blue-500 sm:text-sm dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100"
              >
                <option value="1" selected>No buff ss</option>
                <option value="1.4">1.4</option>
                <option value="1.6">1.6</option>
                <option value="1.8">1.8</option>
                <option value="2">2</option>
              </select>
            </div>
          </div>

          <div class="grid grid-cols-1 gap-4 md:grid-cols-3">
            <label
              for="attackAura"
              class="mb-2 block text-sm font-bold text-gray-700 dark:text-gray-300"
              >attackAura</label
            >
            <div>
              <select
                id="attackAura"
                name="attackAura"
                class="form-select block w-full rounded-md border-gray-300 bg-white text-gray-800 focus:border-blue-500 focus:ring-blue-500 sm:text-sm dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100"
              >
                <option value="1" selected>No attack aura</option>
                <option value="1.5">1.5</option>
              </select>
            </div>
          </div>

          <div class="grid grid-cols-1 gap-4 md:grid-cols-3">
            <label
              for="powerMode"
              class="mb-2 block text-sm font-bold text-gray-700 dark:text-gray-300"
              >powerMode</label
            >
            <div>
              <select
                id="powerMode"
                name="powerMode"
                class="form-select block w-full rounded-md border-gray-300 bg-white text-gray-800 focus:border-blue-500 focus:ring-blue-500 sm:text-sm dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100"
              >
                <option value="1" selected>No power mode</option>
                <option value="3">3</option>
              </select>
            </div>
          </div>

          <div class="grid grid-cols-1 gap-4 md:grid-cols-3">
            <label
              for="wpEnhance"
              class="mb-2 block text-sm font-bold text-gray-700 dark:text-gray-300"
              >WP UP</label
            >
            <div>
              <select
                id="wpEnhance"
                name="wpEnhance"
                class="form-select block w-full rounded-md border-gray-300 bg-white text-gray-800 focus:border-blue-500 focus:ring-blue-500 sm:text-sm dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100"
              >
                <option value="1" selected>No WP UP</option>
                <option value="1.33">WP UP (1.33)</option>
              </select>
            </div>
          </div>

          <div class="grid grid-cols-1 gap-4 md:grid-cols-3">
            <label
              for="defDown"
              class="mb-2 block text-sm font-bold text-gray-700 dark:text-gray-300"
              >defDown</label
            >
            <div>
              <select
                id="defDown"
                name="defDown"
                class="form-select block w-full rounded-md border-gray-300 bg-white text-gray-800 focus:border-blue-500 focus:ring-blue-500 sm:text-sm dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100"
              >
                <option value="1" selected>No def down</option>
                <option value="1.25">1.25</option>
              </select>
            </div>
          </div>

          <div class="grid grid-cols-1 gap-4 md:grid-cols-3">
            <label
              for="criticalHit"
              class="mb-2 block text-sm font-bold text-gray-700 dark:text-gray-300"
              >criticalHit</label
            >
            <div>
              <select
                id="criticalHit"
                name="criticalHit"
                class="form-select block w-full rounded-md border-gray-300 bg-white text-gray-800 focus:border-blue-500 focus:ring-blue-500 sm:text-sm dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100"
              >
                <option value="1" selected>No crit</option>
                <option value="7.5">7.5</option>
              </select>
            </div>
          </div>

          <div class="grid grid-cols-1 gap-4 md:grid-cols-3">
            <label
              for="customUnit1"
              class="mb-2 block text-sm font-bold text-gray-700 dark:text-gray-300"
              >custom 1</label
            >
            <div>
              <input
                type="text"
                id="customUnit1"
                class="form-input w-24 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm dark:text-gray-700"
                value=""
              />
            </div>
          </div>

          <div class="grid grid-cols-1 gap-4 md:grid-cols-3">
            <label
              for="customUnit2"
              class="mb-2 block text-sm font-bold text-gray-700 dark:text-gray-300"
              >custom 2</label
            >
            <div>
              <input
                type="text"
                id="customUnit2"
                class="form-input w-24 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm dark:text-gray-700"
                value=""
              />
            </div>
          </div>

          <div class="grid grid-cols-1 gap-4 md:grid-cols-3">
            <label
              for="customUnit3"
              class="mb-2 block text-sm font-bold text-gray-700 dark:text-gray-300"
              >custom 3</label
            >
            <div>
              <input
                type="text"
                id="customUnit3"
                class="form-input w-24 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm dark:text-gray-700"
                value=""
              />
            </div>
          </div>

          <hr class="my-4 border-t border-gray-300" />
        </section>

        <section class="space-y-4">
          <h3 class="text-lg font-semibold text-gray-700 dark:text-gray-300">
            Section: Badges
          </h3>

          <div class="grid grid-cols-1 gap-4 md:grid-cols-5">
            <label
              for="elementBadge"
              class="mb-2 block text-sm font-bold text-gray-700 dark:text-gray-300"
              >element:
            </label>
            <div>
              <input
                type="radio"
                id="elementBadge1"
                name="elementBadge"
                value="1.25"
                class="form-radio h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"
                checked
              />
              <label
                for="elementBadge1"
                class="ml-2 text-gray-700 dark:text-gray-300"
                >1.25</label
              >
            </div>
            <div>
              <input
                type="radio"
                id="elementBadge2"
                name="elementBadge"
                value="1.17"
                class="form-radio h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"
              />
              <label
                for="elementBadge2"
                class="ml-2 text-gray-700 dark:text-gray-300"
                >1.17</label
              >
            </div>
            <div>
              <input
                type="radio"
                id="elementBadge3"
                name="elementBadge"
                value="1.1"
                class="form-radio h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"
              />
              <label
                for="elementBadge3"
                class="ml-2 text-gray-700 dark:text-gray-300"
                >1.1</label
              >
            </div>
            <div>
              <input
                type="radio"
                id="elementBadge4"
                name="elementBadge"
                value="1"
                class="form-radio h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"
              />
              <label
                for="elementBadge4"
                class="ml-2 text-gray-700 dark:text-gray-300"
                >no badge</label
              >
            </div>
          </div>

          <div class="grid grid-cols-1 gap-4 md:grid-cols-5">
            <label
              for="wpBadge"
              class="mb-2 block text-sm font-bold text-gray-700 dark:text-gray-300"
              >WP:
            </label>
            <div>
              <input
                type="radio"
                id="wpBadge1"
                name="wpBadge"
                value="1.1"
                class="form-radio h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"
                checked
              />
              <label
                for="wpBadge1"
                class="ml-2 text-gray-700 dark:text-gray-300"
                >1.1</label
              >
            </div>
            <div>
              <input
                type="radio"
                id="wpBadge2"
                name="wpBadge"
                value="1.05"
                class="form-radio h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"
              />
              <label
                for="wpBadge2"
                class="ml-2 text-gray-700 dark:text-gray-300"
                >1.05</label
              >
            </div>
            <div>
              <input
                type="radio"
                id="wpBadge3"
                name="wpBadge"
                value="1.02"
                class="form-radio h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"
              />
              <label
                for="wpBadge3"
                class="ml-2 text-gray-700 dark:text-gray-300"
                >1.02</label
              >
            </div>
            <div>
              <input
                type="radio"
                id="wpBadge4"
                name="wpBadge"
                value="1"
                class="form-radio h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"
              />
              <label
                for="wpBadge4"
                class="ml-2 text-gray-700 dark:text-gray-300"
                >no badge</label
              >
            </div>
          </div>

          <div class="grid grid-cols-1 gap-4 md:grid-cols-5">
            <label
              for="bossBadge"
              class="mb-2 block text-sm font-bold text-gray-700 dark:text-gray-300"
              >Boss:
            </label>
            <div>
              <input
                type="radio"
                id="bossBadge1"
                name="bossBadge"
                value="1.1"
                class="form-radio h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"
                checked
              />
              <label
                for="bossBadge1"
                class="ml-2 text-gray-700 dark:text-gray-300"
                >1.1</label
              >
            </div>
            <div>
              <input
                type="radio"
                id="bossBadge2"
                name="bossBadge"
                value="1.05"
                class="form-radio h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"
              />
              <label
                for="bossBadge2"
                class="ml-2 text-gray-700 dark:text-gray-300"
                >1.05</label
              >
            </div>
            <div>
              <input
                type="radio"
                id="bossBadge3"
                name="bossBadge"
                value="1.02"
                class="form-radio h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"
              />
              <label
                for="bossBadge3"
                class="ml-2 text-gray-700 dark:text-gray-300"
                >1.02</label
              >
            </div>
            <div>
              <input
                type="radio"
                id="bossBadge4"
                name="bossBadge"
                value="1"
                class="form-radio h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"
              />
              <label
                for="bossBadge4"
                class="ml-2 text-gray-700 dark:text-gray-300"
                >no badge</label
              >
            </div>
          </div>

          <div class="grid grid-cols-1 gap-4 md:grid-cols-5">
            <label
              for="guardBadge"
              class="mb-2 block text-sm font-bold text-gray-700 dark:text-gray-300"
              >Guardian:
            </label>
            <div>
              <input
                type="radio"
                id="guardBadge1"
                name="guardBadge"
                value="1.08"
                class="form-radio h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"
                checked
              />
              <label
                for="guardBadge1"
                class="ml-2 text-gray-700 dark:text-gray-300"
                >1.08</label
              >
            </div>
            <div>
              <input
                type="radio"
                id="guardBadge2"
                name="guardBadge"
                value="1.04"
                class="form-radio h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"
              />
              <label
                for="guardBadge2"
                class="ml-2 text-gray-700 dark:text-gray-300"
                >1.04</label
              >
            </div>
            <div>
              <input
                type="radio"
                id="guardBadge3"
                name="guardBadge"
                value="1.01"
                class="form-radio h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"
              />
              <label
                for="guardBadge3"
                class="ml-2 text-gray-700 dark:text-gray-300"
                >1.01</label
              >
            </div>
            <div>
              <input
                type="radio"
                id="guardBadge4"
                name="guardBadge"
                value="1"
                class="form-radio h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"
              />
              <label
                for="guardBadge4"
                class="ml-2 text-gray-700 dark:text-gray-300"
                >no badge</label
              >
            </div>
          </div>
          <hr class="my-4 border-t border-gray-300" />
        </section>

        <section class="space-y-4">
          <h3 class="text-lg font-semibold text-gray-700 dark:text-gray-300">
            Section: Strikeshot
          </h3>
          <div class="grid grid-cols-1 gap-4 md:grid-cols-2">
            <label
              for="powerUp"
              class="mb-2 block text-sm font-bold text-gray-700 dark:text-gray-300"
              >speed/power up</label
            >
            <div>
              <input
                type="text"
                id="powerUp"
                class="form-input w-24 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm dark:text-gray-700"
                value="1.8"
              />
            </div>
          </div>

          <div class="grid grid-cols-1 gap-4 md:grid-cols-2">
            <label
              for="followUp"
              class="mb-2 block text-sm font-bold text-gray-700 dark:text-gray-300"
              >follow up</label
            >
            <div>
              <input
                type="text"
                id="followUp"
                class="form-input w-24 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm dark:text-gray-700"
                value="15"
              />
            </div>
          </div>

          <hr class="my-4 border-t border-gray-300" />
        </section>

        <!--         <section class="space-y-4">
          <h3 class="text-lg font-semibold text-gray-700 dark:text-gray-300">
            Section: Stage
          </h3>
          <div class="grid grid-cols-1 gap-4 md:grid-cols-3">
            <label
              for="AttributeEffect"
              class="mb-2 block text-sm font-bold text-gray-700 dark:text-gray-300"
              >Attribute Effect</label
            >
            <div>
              <select
                id="AttributeEffect"
                name="AttributeEffect"
                class="form-select block w-full rounded-md border-gray-300 bg-white text-gray-800 focus:border-blue-500 focus:ring-blue-500 sm:text-sm dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100"
              >
                <option value="1" selected>Neutral</option>
                <option value="1.33">Default</option>
                <option value="1.5" selected>Effect UP (1.5)</option>
                <option value="2">Effect Super UP (2)</option>
                <option value="3">Effect Super UP (3)</option>
              </select>
            </div>
          </div>

          <div class="grid grid-cols-1 gap-4 md:grid-cols-3">
            <label
              for="bossRage"
              class="mb-2 block text-sm font-bold text-gray-700 dark:text-gray-300"
              >Boss Rage</label
            >
            <div>
              <select
                id="bossRage"
                name="bossRage"
                class="form-select block w-full rounded-md border-gray-300 bg-white text-gray-800 focus:border-blue-500 focus:ring-blue-500 sm:text-sm dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100"
              >
                <option value="1" selected>No rage</option>
                <option value="1.05">small (1.05)</option>
                <option value="1.1">medium (1.1)</option>
                <option value="1.15">large (1.15)</option>
              </select>
            </div>
          </div>

          <div class="grid grid-cols-1 gap-4 md:grid-cols-3">
            <label
              for="swordItem"
              class="mb-2 block text-sm font-bold text-gray-700 dark:text-gray-300"
              >swordItem</label
            >
            <div>
              <select
                id="swordItem"
                name="swordItem"
                class="form-select block w-full rounded-md border-gray-300 bg-white text-gray-800 focus:border-blue-500 focus:ring-blue-500 sm:text-sm dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100"
              >
                <option value="1" selected>No sword</option>
                <option value="1.5" selected>1.5</option>
              </select>
            </div>
          </div>


          <div class="grid grid-cols-1 gap-4 md:grid-cols-2">
            <label
              for="MiscGimmick1"
              class="mb-2 block text-sm font-bold text-gray-700 dark:text-gray-300"
              >Misc Gimmick 1(IE. PUW)</label
            >
            <div>
              <input
                type="text"
                id="MiscGimmick1"
                class="form-input w-24 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm dark:text-gray-700"
                value=""
              />
            </div>
          </div>


          <div class="grid grid-cols-1 gap-4 md:grid-cols-2">
            <label
              for="MiscGimmick2"
              class="mb-2 block text-sm font-bold text-gray-700 dark:text-gray-300"
              >Misc Gimmick 2</label
            >
            <div>
              <input
                type="text"
                id="MiscGimmick2"
                class="form-input w-24 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm dark:text-gray-700"
                value=""
              />
            </div>
          </div>


          <div class="grid grid-cols-1 gap-4 md:grid-cols-2">
            <label
              for="MiscGimmick3"
              class="mb-2 block text-sm font-bold text-gray-700 dark:text-gray-300"
              >Misc Gimmick 3</label
            >
            <div>
              <input
                type="text"
                id="MiscGimmick3"
                class="form-input w-24 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm dark:text-gray-700"
                value=""
              />
            </div>
          </div>


          <div class="grid grid-cols-1 gap-4 md:grid-cols-3">
            <label
              for="hiddenMultiplier"
              class="mb-2 block text-sm font-bold text-gray-700 dark:text-gray-300"
              >Hidden Multiplier</label
            >
            <div>
              <select
                id="hiddenMultiplier"
                name="hiddenMultiplier"
                class="form-select block w-full rounded-md border-gray-300 bg-white text-gray-800 focus:border-blue-500 focus:ring-blue-500 sm:text-sm dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100"
              >
                <option value="1" selected>1</option>
              </select>
            </div>
          </div>

          <hr class="my-4 border-t border-gray-300" />
        </section> -->

        <button
          type="button"
          onclick="gatherInputs()"
          class="focus:shadow-outline rounded bg-blue-500 px-4 py-2 font-bold text-white hover:bg-blue-700 focus:outline-none"
        >
          Calculate
        </button>

        <div class="mt-4 flex items-center">
          <input
            type="checkbox"
            id="verboseOutput"
            name="verbose"
            class="form-checkbox h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"
            checked
          />
          <label
            for="verboseOutput"
            class="ml-2 text-gray-700 dark:text-gray-300"
            >Developer Logging</label
          >
        </div>
      </form>

      <div id="results" class="mt-6 space-y-2">
        <h3 class="text-xl font-semibold text-gray-800">Results Summary</h3>
        <p id="resultsSummary" class="text-gray-700 dark:text-gray-300"></p>
      </div>
    </div>

    <script>
      function gatherInputs() {
        const form = document.getElementById('inputForm')
        const resultsDiv = document.getElementById('results')
        const resultsSummary = document.getElementById('resultsSummary')
        const verboseOutput = document.getElementById('verboseOutput').checked
        let multipliers = []
        let attackStat = []
        let baseAttack
        let inputValues = {} // Object to store individual input values

        for (const element of form.elements) {
          if (element.type !== 'submit' && element.type !== 'button') {
            const value = element.value.trim()
            const elementId = element.id || element.name // Use ID if available, otherwise name

            if (
              element.id === 'attackStat' ||
              element.id === 'Berries' ||
              element.id === 'monSpot1' ||
              element.id === 'monSpot2' ||
              element.id === 'monSpot3'
            ) {
              const attackValue = parseInt(value)
              if (!isNaN(attackValue) && Number.isInteger(attackValue)) {
                //baseAttack = attackValue
                if (element.type !== 'radio') {
                  attackStat.push(attackValue)
                } else if (element.type === 'radio' && element.checked) {
                  attackStat.push(attackValue)
                }
              } else if (
                element.id === 'Berries' ||
                element.id === 'monSpot1' ||
                element.id === 'monSpot2' ||
                element.id === 'monSpot3'
              ) {
                //do nothing. allow berries and monspot to be empty value.
              } else {
                resultsSummary.textContent =
                  'Error: Attack Stat must be an integer.'
                return
              }
            } else if (element.tagName === 'SELECT') {
              const numValue = parseFloat(value)
              if (!isNaN(numValue)) {
                multipliers.push(numValue)
                inputValues[elementId] = numValue
              } else {
                inputValues[elementId] = value // Store the raw value if not a number
              }
            } else if (element.type === 'radio' && element.checked) {
              const numValue = parseFloat(value)
              if (!isNaN(numValue)) {
                multipliers.push(numValue)
                inputValues[element.name] = numValue
              } else {
                inputValues[element.name + ' (selected)'] = value // Store raw value
              }
            } else if (element.type === 'text' && element.id !== 'attackStat') {
              const numValue = parseFloat(value)
              if (!isNaN(numValue)) {
                multipliers.push(numValue)
                inputValues[elementId] = numValue
              } else {
                inputValues[elementId] = value // Store raw value
              }
            }
          }
        }

        // My calculation
        let unitMultipliers = []
        let badgeMultipliers = []
        //let otherMultipliers = []
        let stageMultipliers = []
        let unitKeys = []
        let badgeKeys = []
        //let otherKeys = []
        let stageKeys = []
        let powerUp
        let followUp

        for (const key in inputValues) {
          console.log('Key', key)

          const numValue = parseFloat(inputValues[key])
          console.log('numValue', numValue)
          if (!isNaN(numValue) && numValue !== 1) {
            if (
              key === 'Slayer1' ||
              key === 'Slayer2' ||
              key === 'Slayer3' ||
              key === 'SuperBalance' ||
              key === 'SuperWarp' ||
              key === 'buffSS' ||
              key === 'attackAura' ||
              key === 'powerMode' ||
              key === 'wpEnhance' ||
              key === 'defDown' ||
              key === 'criticalHit' ||
              key === 'swordItem' ||
              key === 'customUnit1' ||
              key === 'customUnit2' ||
              key === 'customUnit3'
            ) {
              unitMultipliers.push(numValue)
              unitKeys.push(key)
            } else if (
              key === 'elementBadge' ||
              key === 'wpBadge' ||
              key === 'bossBadge' ||
              key === 'guardBadge'
            ) {
              badgeMultipliers.push(numValue)
              badgeKeys.push(key)
            } else if (key === 'powerUp') {
              powerUp = numValue
            } else if (key === 'followUp') {
              followUp = numValue
            } else if (
              key === 'AttributeEffect' ||
              key === 'bossRage' ||
              key === 'hiddenMultiplier' ||
              key === 'MiscGimmick1' ||
              key === 'MiscGimmick2' ||
              key === 'MiscGimmick3'
            ) {
              stageMultipliers.push(numValue)
              stageKeys.push(key)
            }
          }
        }

        // attack
        baseAttack = attackStat.reduce((acc, curr) => acc + curr)
        inputValues['Attack Stat'] = baseAttack

        // // Display individual input values
        // let summaryText = 'Input Values:<br>'
        // for (const key in inputValues) {
        //   summaryText += `${key}: ${inputValues[key]}<br>`
        // }

        if (verboseOutput) {
          console.log('unitMultipliers: ', unitMultipliers)
          console.log('badgeMultipliers: ', badgeMultipliers)
          //console.log('otherMultipliers: ', otherMultipliers)
          console.log('stageMultipliers: ', stageMultipliers)
          console.log('unitKeys: ', unitKeys)
          console.log('badgeKeys: ', badgeKeys)
          //console.log('otherKeys: ', otherKeys)
          console.log('stageKeys: ', stageKeys)
          console.log('powerUp: ', powerUp)
          console.log('followUp: ', followUp)
        }

        // Calculate the final damage
        // AND SUMMARIZE
        let finalUnitMultipliers
        if (unitMultipliers.length != 0) {
          finalUnitMultipliers = unitMultipliers.reduce(
            (acc, curr) => acc * curr,
          )
        } else {
          finalUnitMultipliers = 1
        }

        let finalBadgeMultipliers
        if (badgeMultipliers.length != 0) {
          finalBadgeMultipliers = badgeMultipliers.reduce(
            (acc, curr) => acc * curr,
          )
        } else {
          finalBadgeMultipliers = 1
        }

        let finalStageMultipliers
        if (stageMultipliers.length != 0) {
          finalStageMultipliers = stageMultipliers.reduce(
            (acc, curr) => acc * curr,
          )
        } else {
          finalStageMultipliers = 1
        }

        const finalDuringSS =
          finalUnitMultipliers * finalBadgeMultipliers * powerUp

        const finalDuringSSFollowUp =
          finalUnitMultipliers * finalBadgeMultipliers * followUp

        const finalStageCombined =
          finalUnitMultipliers * finalBadgeMultipliers * finalStageMultipliers

        // //attack with unit
        // if (typeof baseAttack === 'number') {
        //   const finalDamageAfterUnit =
        //     baseAttack *
        //     finalUnitMultipliers

        //   summaryText += `<br>Attack after unit multipliers: ${finalDamageAfterUnit.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`
        // } else {
        //   summaryText += '<br>Error: Could not calculate damage.'
        // }

        const finalDamageAfterUnit = baseAttack * finalUnitMultipliers

        const finalDamageAfterUnitBadge =
          baseAttack * finalUnitMultipliers * finalBadgeMultipliers

        const finalDamageAfterUnitBadgeSS =
          baseAttack * finalUnitMultipliers * finalBadgeMultipliers * powerUp

        const finalDamageAfterUnitBadgeSSFollowup =
          baseAttack * finalUnitMultipliers * finalBadgeMultipliers * followUp

        let summaryText = `Damage Calculation:`
        //summaryText += `Damage Calculation: `
        summaryText += `<br>Base Attack Stat: ${baseAttack}`
        summaryText += `<br>Attack after unit multipliers: ${finalDamageAfterUnit.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`
        summaryText += `<br>Attack after unit and badge multipliers: ${finalDamageAfterUnitBadge.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`

        summaryText += `<br><br>During SS: ${finalDamageAfterUnitBadgeSS.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`
        summaryText += `<br>During SS followup: ${finalDamageAfterUnitBadgeSSFollowup.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`

        //attack during ss
        //attack during ss followup

        //Multipiliers
        summaryText += `<br><br>Multiplers Only`
        summaryText += `<br>Unit Multipliers Only: ${finalUnitMultipliers.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`
        summaryText += `<br>Badge Multipliers  Only: ${finalBadgeMultipliers.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`
        summaryText += `<br>During SS power up, total Multipliers: ${finalDuringSS.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`
        summaryText += `<br>During SS follow up, total Multipliers: ${finalDuringSSFollowUp.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`

        summaryText += `<br><br>DISCLAIMER: Damage calculation is only for experimenting and may not be accurate.  These are not official numbers from mixi.`

        resultsSummary.innerHTML = summaryText // Use innerHTML to render <br> tags
      }
    </script>
  </body>
</html>
